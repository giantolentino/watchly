{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="X-UA-Compatible"
      content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <meta
      name="author"
      content="Gian Tolentino" />

    <link
      rel="stylesheet"
      href="{% static 'styles/reset.css' %}" />
    <link
      rel="stylesheet"
      href="{% static 'styles/base.css' %}" />

    {% block head %} {% endblock %}

    <title>Watchly</title>
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-brand">
        <a
          href="#"
          class="navbar-item"
          >Watchly</a
        >
      </div>

      <div class="navbar-burger">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <div class="navbar-end">
        <div class="navbar-menu">
          <a
            href="{% url 'accounts:homepage' %}"
            class="navbar-item"
            >Home</a
          >
          <a
            href="#"
            class="navbar-item"
            >Bookmarks</a
          >
          <a
            href="#"
            class="navbar-item"
            >History</a
          >
          <a
            href="#"
            class="navbar-item"
            >Profile</a
          >
        </div>
        {% include 'includes/search.html' %}
      </div>

      <div class="fullscreen-menu">
        <button class="close-btn">&times;</button>
        {% include 'includes/search.html' %}
        <a
          href="{% url 'accounts:homepage' %}"
          class="nav-item"
          >Home</a
        >
        <a
          href="#"
          class="nav-item"
          >Bookmarks</a
        >
        <a
          href="#"
          class="nav-item"
          >History</a
        >
        <a
          href="#"
          class="nav-item"
          >Profile</a
        >
      </div>
    </nav>

    <main class="main">{% block main %} {% endblock %}</main>

    <script>
      const navBurger = document.querySelector('.navbar-burger');
      const fullscreenMenu = document.querySelector('.fullscreen-menu');
      const closeBtn = document.querySelector('.close-btn');
      const main = document.querySelector('main');

      navBurger.addEventListener('click', () => {
        fullscreenMenu.classList.toggle('fullscreen-menu-active');
        main.style.display = 'none';
      });
      closeBtn.addEventListener('click', () => {
        fullscreenMenu.classList.remove('fullscreen-menu-active');
        main.style.display = 'block';
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          fullscreenMenu.classList.remove('fullscreen-menu-active');
          main.style.display = 'block';
        }
      });
    </script>
  </body>
</html>
